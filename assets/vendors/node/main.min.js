$(document).ready(function(){var d=$("#nodeTable").DataTable({columnDefs:[{targets:[0,1],visible:!1,searchable:!1}],order:[[2,"asc"]],searching:!1,info:!1,paging:!1,lengthMenu:-1});loadTable(d);setInterval(function(){updateTable(d)},3E4)});
function updateTable(d){d.rows().every(function(d,a,c){var b=this.data(),e=this;$.ajax({url:apiInterface+b[0]+"/"+b[1]+"/getinfo?random="+(new Date).getTime(),dataType:"json",type:"GET",cache:"false",success:function(a){a.error?(b[4]=0,b[5]="No",b[7]="0 H/s",b[9]="Unknown"):(b[4]=a.height,b[5]=a.synced?"Yes":"No",b[6]=a.difficulty,b[7]=(a.hashrate/1E6).toFixed(2)+" MH/s",b[9]=a.version);e.invalidate()}})});d.draw()}
function loadTable(d){$.each(nodes,function(f,a){$.ajax({url:apiInterface+a.hostname+"/"+a.port+"/getinfo?random="+(new Date).getTime(),dataType:"json",type:"GET",cache:"false",success:function(c){c.error?d.row.add([a.hostname,a.port,a.name,a.region,0,"No",0,"0 H/s","Unknown"]).draw(!1):d.row.add([a.hostname,a.port,a.name,a.region,c.height,c.synced?"Yes":"No",c.difficulty,(c.hashrate/1E6).toFixed(2)+" MH/s",c.version]).draw(!1)}})})};
